# You must configure the following properties.
#   - sonar.projectKey
#   - sonar.organization
#
# See the SonarCloud documentation for more information:
#   - https://docs.sonarcloud.io/
#
# It is recommended to use "push" events for branches, and "pull_request" events for pull requests,
# and configure the projectKey and organization as GitHub Actions secrets.

sonar.projectKey=${{ secrets.SONAR_PROJECT_KEY }}
sonar.organization=${{ secrets.SONAR_ORGANIZATION }}
sonar.host.url=${{ secrets.SONAR_HOST_URL }} # Thường là https://sonarcloud.io

# Mandatory for GitHub Actions. Fetch all history so SonarCloud can properly analyze your project.
sonar.scm.provider=git
sonar.scm.forceReloadAll=true
sonar.pullrequest.github.repository=${{ github.repository }}

# General settings
sonar.projectName=${{ github.event.repository.name }}
sonar.sources=.
sonar.tests=.
sonar.language=js # hoặc ts nếu bạn dùng TypeScript

# Exclusions - Quan trọng để SonarCloud không phân tích các file test như code chính
sonar.exclusions=**/*.test.js,**/*.test.jsx,**/*.test.ts,**/*.test.tsx,**/__tests__/**,**/node_modules/**

# Test execution reports (for Jest)
sonar.testExecutionReportPaths=junit.xml

# Coverage reports (for Jest - LCOV format)
sonar.javascript.lcov.reportPaths=coverage/lcov.info
